<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <title>Mot de passe oublié - MesMedocFacile</title>
  
  <link rel="stylesheet" type="text/css" th:href="@{/css/forgot_pass.css(v=1)}" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
  <div class="forgot-wrapper">
    <!-- Left Section - Branding & Help -->
    <div class="forgot-left">
      <div class="brand-section">
        <div class="logo-container">
          <img th:src="@{/images/logo.png}" alt="MesMedocFacile Logo" class="brand-logo" />
        </div>
        <h1 class="brand-title">MesMedocFacile</h1>
        <p class="brand-subtitle">Récupération de compte</p>
      </div>

      <div class="help-section">
        <div class="help-icon">
          <i class="fas fa-shield-alt"></i>
        </div>
        <h2 class="help-title">Sécurité de votre compte</h2>
        <p class="help-text">
          Nous prenons la sécurité de votre compte très au sérieux. 
          Le lien de réinitialisation sera envoyé uniquement à votre adresse e-mail enregistrée 
          et expirera après 24 heures.
        </p>

        <div class="info-list">
          <div class="info-item">
            <i class="fas fa-check-circle"></i>
            <span>Lien sécurisé à usage unique</span>
          </div>
          <div class="info-item">
            <i class="fas fa-clock"></i>
            <span>Expiration automatique en 24h</span>
          </div>
          <div class="info-item">
            <i class="fas fa-lock"></i>
            <span>Chiffrement de bout en bout</span>
          </div>
        </div>
      </div>

      <div class="contact-section">
        <p class="contact-text">
          <i class="fas fa-question-circle"></i>
          Besoin d'aide supplémentaire ? 
          <a href="#" class="contact-link">Contactez notre support</a>
        </p>
      </div>
    </div>

    <!-- Right Section - Forgot Password Form -->
    <div class="forgot-right">
      <div class="forgot-container">
        <!-- Header -->
        <div class="forgot-header">
          <div class="icon-circle">
            <i class="fas fa-key"></i>
          </div>
          <h2 class="forgot-title">Mot de passe oublié ?</h2>
          <p class="forgot-subtitle">
            Pas de problème ! Entrez votre adresse e-mail et nous vous enverrons 
            un lien pour réinitialiser votre mot de passe.
          </p>
        </div>

        <!-- Alert Messages -->
        <div th:if="${error != null}" class="alert alert-error">
          <i class="fas fa-exclamation-circle"></i>
          <span th:text="${error}"></span>
        </div>
        
        <div th:if="${message != null}" class="alert alert-success">
          <i class="fas fa-check-circle"></i>
          <span th:text="${message}"></span>
        </div>

        <!-- Forgot Password Form -->
        <form th:action="@{/forgot_password}" method="post" class="forgot-form">
          <div class="form-group">
            <label for="email" class="form-label">
              <i class="fas fa-envelope"></i>
              Adresse e-mail
            </label>
            <input type="email" 
                   id="email" 
                   name="email" 
                   class="form-input" 
                   placeholder="votreemail@exemple.com" 
                   required 
                   autofocus />
            <p class="form-hint">
              Entrez l'adresse e-mail associée à votre compte
            </p>
          </div>

          <button type="submit" class="btn-submit">
            <i class="fas fa-paper-plane"></i>
            <span>Envoyer le lien de réinitialisation</span>
          </button>
        </form>

        <!-- Back to Login -->
        <div class="back-section">
          <p class="back-text">
            Vous vous souvenez de votre mot de passe ?
          </p>
          <a th:href="@{/login}" class="btn-back">
            <i class="fas fa-arrow-left"></i>
            <span>Retour à la connexion</span>
          </a>
        </div>

        <!-- Security Notice -->
        <div class="security-notice">
          <i class="fas fa-info-circle"></i>
          <p>
            Si vous ne recevez pas d'e-mail dans les prochaines minutes, 
            vérifiez votre dossier spam ou contactez notre support.
          </p>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
